<p-card>
    <p-table
      #dt1
      [value]="users"
      dataKey="id"
      [rows]="10"
      [rowHover]="true"
      [paginator]="true"
      styleClass="p-datatable-gridlines"
      [globalFilterFields]="['name', 'email', 'last_name', 'gender', 'birthDate', 'username']"
      [showLoader]="true"
      sortMode="multiple"
      responsiveLayout="scroll"
      [scrollable]="true"
      frozenWidth="400px"
      [rowsPerPageOptions]="[5, 10, 20]"
    >
      <ng-template pTemplate="caption">
        <div class="flex justify-content-between flex-column sm:flex-row">
            <div class="flex justify-content-between flex-column gap-2 sm:flex-row" style="height: 40px;">
                <span class="relative w-[300px]">
                    <i class="pi pi-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                    <input pInputText type="text" #filter (input)="onGlobalFilter(dt1, $event)"
                      placeholder="Palabra Clave"
                      class="w-full h-[40px] pl-10 text-base"
                      style="padding-left: 2.3rem !important;"/>
                </span>
              <button pButton label="Clear" class="p-button-outlined mb-2 h-full" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>
            </div>

            <button pButton label="Nuevo Usuario" class="p-button mb-2 h-full p-button-success" icon="pi pi-plus"></button>
          </div>
      </ng-template>

      <ng-template pTemplate="header">
        <tr>
          <th style="min-width: 10rem;" pSortableColumn="name">
            <div class="flex justify-content-between align-items-center">
              <div class="flex align-items-center gap-2">
                <p-sortIcon field="name"></p-sortIcon>
                <span>Nombre</span>
              </div>
              <p-columnFilter type="text" field="name" display="menu" placeholder="Filtrar por nombre"></p-columnFilter>
            </div>
          </th>
          <th style="min-width: 10rem;" pSortableColumn="last_name">
            <div class="flex justify-content-between align-items-center">
              <div class="flex align-items-center gap-2">
                <p-sortIcon field="last_name"></p-sortIcon>
                <span>Apellido</span>
              </div>
              <p-columnFilter type="text" field="last_name" display="menu" placeholder="Filtrar por apellido"></p-columnFilter>
            </div>
          </th>
          <th style="min-width: 10rem;" pSortableColumn="gender">
            <div class="flex justify-content-between align-items-center">
              <div class="flex align-items-center gap-2">
                <p-sortIcon field="gender"></p-sortIcon>
                <span>Genero</span>
              </div>
              <p-columnFilter type="text" field="gender" display="menu" placeholder="Filtrar por genero"></p-columnFilter>
            </div>
          </th>
          <th style="min-width: 10rem;" pSortableColumn="birthDate">
            <div class="flex justify-content-between align-items-center">
              <div class="flex align-items-center gap-2">
                <p-sortIcon field="birthDate"></p-sortIcon>
                <span>Fecha de Nacimiento</span>
              </div>
              <p-columnFilter type="text" field="birthDate" display="menu" placeholder="Filtrar por fecha"></p-columnFilter>
            </div>
          </th>
          <th style="min-width: 10rem;" pSortableColumn="username">
            <div class="flex justify-content-between align-items-center">
              <div class="flex align-items-center gap-2">
                <p-sortIcon field="username"></p-sortIcon>
                <span>Nombre de Usuario</span>
              </div>
              <p-columnFilter type="text" field="username" display="menu" placeholder="Filtrar por usuario"></p-columnFilter>
            </div>
          </th>
          <th style="min-width: 10rem;" pSortableColumn="email">
            <div class="flex justify-content-between align-items-center">
              <div class="flex align-items-center gap-2">
                <p-sortIcon field="email"></p-sortIcon>
                <span>Correo</span>
              </div>
              <p-columnFilter type="text" field="email" display="menu" placeholder="Filtrar por correo"></p-columnFilter>
            </div>
          </th>
          <th style="min-width: 10rem;" pSortableColumn="role_id">
            <div class="flex justify-content-between align-items-center">
              <div class="flex align-items-center gap-2">
                <p-sortIcon field="role_id"></p-sortIcon>
                <span>Rol</span>
              </div>
            </div>
          </th>
          <th style="min-width: 10rem;" pSortableColumn="zone_id">
            <div class="flex justify-content-between align-items-center">
              <div class="flex align-items-center gap-2">
                <p-sortIcon field="zone_id"></p-sortIcon>
                <span>Zona</span>
              </div>
            </div>
          </th>
          <th style="min-width: 100px" pFrozenColumn alignFrozen="right">
            <div class="flex justify-content-center align-items-center">
              Acciones
            </div>
          </th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{user.name}}</td>
          <td>{{user.last_name}}</td>
          <td>{{user.gender}}</td>
          <td>{{user.birthDate}}</td>
          <td>{{user.username}}</td>
          <td>{{user.email}}</td>
          <td>{{getRoleName(user.role_id)}}</td>
          <td>{{getZoneName(user.zone_id)}}</td>
          <td class="flex gap-2 justify-content-center" pFrozenColumn alignFrozen="right">
            <p-button pTooltip="Editar" tooltipPosition="bottom" [outlined]="true" severity="primary" icon="pi pi-pencil" pRipple></p-button>
            <p-button pTooltip="Eliminar" tooltipPosition="bottom" [outlined]="true" severity="danger" icon="pi pi-trash" pRipple></p-button>
            <p-button pTooltip="Permisos" tooltipPosition="bottom" severity="info" [outlined]="true" icon="fas fa-user-lock" pRipple></p-button>
          </td>
        </tr>
      </ng-template>



  </p-table>
  </p-card>
